$.ajaxSettings.beforeSend=function(a,b){function d(a){var b="//"+document.location.host,c=document.location.protocol+b;return a==c||a.slice(0,c.length+1)==c+"/"||a==b||a.slice(0,b.length+1)==b+"/"||!/^(\/\/|http:|https:).*/.test(a)}function c(a){var b,c,d,e;if(document.cookie&&document.cookie!=""){c=document.cookie.split(";");for(e=0;e<c.length;e++){d=c[e].trim();if(d.substring(0,a.length+1)==a+"="){b=decodeURIComponent(d.substring(a.length+1));break}}}return b}!/^(GET|HEAD|OPTIONS|TRACE)$/.test(b.type)&&d(b.url)&&a.setRequestHeader("X-CSRFToken",c("csrftoken"))}